# Yaci Indexer Configuration
# Copy this file to /opt/yaci/config/yaci.env and customize for your environment

# === Chain Configuration ===
# gRPC endpoint of the blockchain node
CHAIN_GRPC_ENDPOINT=localhost:9090

# Chain identifier (for metrics/logging)
CHAIN_ID=manifest-1

# === Database Configuration ===
# PostgreSQL connection string
POSTGRES_CONN_STRING=postgres://postgres:password@localhost:5432/yaci?sslmode=disable

# === Indexer Configuration ===
# Block range settings (leave empty to auto-resume from latest indexed block)
START_BLOCK=
STOP_BLOCK=

# Enable live monitoring (continuously index new blocks)
ENABLE_LIVE=true

# Block polling interval in seconds (when live mode is enabled)
BLOCK_TIME=2

# === Performance Tuning ===
# Maximum concurrent block requests
MAX_CONCURRENCY=100

# Maximum retries for gRPC operations
MAX_RETRIES=3

# Maximum gRPC message size in bytes (default: 4MB)
MAX_RECV_MSG_SIZE=4194304

# === Security ===
# Skip TLS certificate verification (use for local/dev chains only)
INSECURE=true

# === Observability ===
# Enable Prometheus metrics
ENABLE_PROMETHEUS=true

# Prometheus metrics server address
PROMETHEUS_ADDR=0.0.0.0:2112

# Log level: debug|info|warn|error
LOG_LEVEL=info

# === Constructed Flags (DO NOT EDIT) ===
# These are automatically constructed from the above variables
EXTRA_FLAGS=--live --block-time ${BLOCK_TIME} --max-concurrency ${MAX_CONCURRENCY} --max-retries ${MAX_RETRIES} --max-recv-msg-size ${MAX_RECV_MSG_SIZE} --enable-prometheus --prometheus-addr ${PROMETHEUS_ADDR} --logLevel ${LOG_LEVEL} -k
